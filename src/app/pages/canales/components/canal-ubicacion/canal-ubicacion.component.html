<div class="card detail-card">
  <div class="card-header d-flex justify-content-between align-items-center">
    <h3 class="card-title">
      <i class="bi bi-geo-alt me-2 text-primary"></i>Ubicación
    </h3>

    <div class="edit-controls">
      <button
        *ngIf="!isEditing"
        class="btn-edit"
        (click)="onToggleEdit()"
      >
        <i class="bi bi-pencil"></i>
      </button>

      <div *ngIf="isEditing" class="action-buttons">
        <button
          class="btn-action btn-save me-1"
          (click)="onSave()"
        >
          <i class="bi bi-check"></i>
        </button>
        <button
          class="btn-action btn-cancel"
          (click)="onCancel()"
        >
          <i class="bi bi-x"></i>
        </button>
      </div>
    </div>
  </div>
  <div class="card-body p-4">
    <div class="row" *ngIf="!isEditing">
      <div class="col-md-6">
        <div class="detail-row mb-3">
          <div class="detail-label">Provincia</div>
          <div class="detail-value">{{ canal.provincia }}</div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="detail-row mb-3">
          <div class="detail-label">Localidad</div>
          <div class="detail-value">{{ canal.localidad }}</div>
        </div>
      </div>
      <div class="col-12">
        <div class="detail-row">
          <div class="detail-label">Dirección</div>
          <div class="detail-value">
            {{ canal.direccion || "No especificada" }}
          </div>
        </div>
      </div>
    </div>

    <!-- Selector de ubicación en modo edición -->
    <div *ngIf="isEditing">
      <app-ubicacion-selector
        [initialProvincia]="canal.provincia"
        [initialLocalidad]="canal.localidad"
        (provinciaChange)="onProvinciaChange($event)"
        (localidadChange)="onLocalidadChange($event)"
      >
      </app-ubicacion-selector>

      <div class="form-group mt-3">
        <label>Dirección</label>
        <input
          type="text"
          class="form-control"
          [value]="canalFormData.direccion"
          (input)="updateField('direccion', $event)"
        />
      </div>
    </div>
  </div>
</div>
